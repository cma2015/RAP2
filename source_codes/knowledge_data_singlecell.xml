<tool id="knowledge_data_singlecell" name="Knowledge data for single cell analysis">
  <description>
  </description>
  <requirements>
      <requirement type="package" version="3.4.2">R</requirement>
      <requirement type="package" version="1.2.0">getopt</requirement>
  </requirements>

  <command>	 
    Rscript /galaxy/tools/TAMF/knowledge_data_spec.R

    --input1
        4
    --input9
        $typematrix
    --input3
        $cpu
    --output4
        $SpecScore  

;


</command>
  <inputs>

    <param name="cpu" type="text" value="2" label="cpu number" />
    <param name="typematrix" type="data" label="known cell type prepared gene expression matrix used for calculating Spec score" />

	
  </inputs>  
	<stdio><exit_code range="1:" level="fatal" description="Error"/></stdio> 
  <outputs>

    <data name="SpecScore" format="tabular" label="Spec score" help="Spec scire" >
			<filter>Knowledge['know'] == '4' </filter>
	</data>  

  </outputs>


    <help>
.. class:: infomark

**What it does**

*Knowledge data for single cell analysis* is used to generate Spec score for **Single-cell analysis** sub-function

-------------

.. class:: infomark

**Inputs**

The **cpu number** and **known cell type prepared gene expression matrix** are need:

* .. csv-table:: 
   :header: " ", "Atrichoblast", "Columella", "Cortex", "Endodermis"
   :widths: 15, 10, 10, 10, 10

   "ORF25", 7.332, 13.337, 7.092, 7.808
   "AT2G26550", 6.907, 6.943, 6.825, 6.091
   "AT2G26570", 7.318, 8.645, 7.855, 9.641
   "PSBA", 9.302, 12.962, 8.373, 10.149

|

-------------


.. class:: infomark

**Outputs**


**Spec score**:


* .. csv-table:: 
   :header: " ", "Atrichoblast", "Columella", "Cortex", "Endodermis"
   :widths: 15, 10, 10, 10, 10

   "ORF25", 0, 0.127, 0, 0
   "AT2G26550", 0, 0, 0, 0
   "AT2G26570", 0, 0, 0.102, 0.591
   "PSBA", 0, 0, 0.105, 0.105

|

-------------

.. class:: warningmark

**Note**

* The elapsed time increase with increase of the data size.

* The knowledge data is used for further analysis in the corresponding TAMF tool, and select them in the **History** panel.

-------------

|


  </help>

</tool>
